(window.webpackJsonp=window.webpackJsonp||[]).push([[156],{614:function(s,a,t){"use strict";t.r(a);var n=t(27),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"一-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一-安装"}},[s._v("#")]),s._v(" 一.安装")]),s._v(" "),t("p",[t("strong",[s._v("主要讲述 windows 版本,cmd 命令行使用管理员身份运行")])]),s._v(" "),t("ol",[t("li",[t("p",[s._v("进入"),t("a",{attrs:{href:"https://www.mongodb.com/try/download/community",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网"),t("OutboundLink")],1)])]),s._v(" "),t("li",[t("p",[s._v("选版本，选系统，选 zip")])]),s._v(" "),t("li",[t("p",[s._v("新建目录"),t("code",[s._v("D://mongodb")]),s._v("，将文件解压到该目录下")])]),s._v(" "),t("li",[t("p",[s._v("安装，"),t("code",[s._v("mongod --install --dbpath")])])]),s._v(" "),t("li",[t("p",[s._v("在 "),t("code",[s._v("mongodb")]),s._v("目录下新建两个文件夹"),t("code",[s._v("data")]),s._v("（存放数据）和"),t("code",[s._v("logs")]),s._v("（存放日志）")])]),s._v(" "),t("li",[t("p",[s._v("执行命令")])])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 日志要写具体日志名")]),s._v("\nD:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("mongodb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("bin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("mongod --install --dbpath D:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("mongodb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("data --logpath D:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("mongodb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("logs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("mongodb.log\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ol",{attrs:{start:"7"}},[t("li",[t("p",[s._v("启动："),t("code",[s._v("net start mongodb")])])]),s._v(" "),t("li",[t("p",[s._v("退出:"),t("code",[s._v("exit")])])]),s._v(" "),t("li",[t("p",[s._v("下次再启动，进入"),t("code",[s._v("D:\\mongodb\\bin>")]),s._v(",执行"),t("code",[s._v("mongo")]),s._v("命令。")])])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("D:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("mongodb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("bin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("mongo\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"二-可视化工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二-可视化工具"}},[s._v("#")]),s._v(" 二.可视化工具")]),s._v(" "),t("ol",[t("li",[s._v("进入"),t("a",{attrs:{href:"%60https://robomongo.org/download%60"}},[s._v("官网")])]),s._v(" "),t("li",[s._v("根据提示进行安装")]),s._v(" "),t("li",[s._v("下载安装成功后，打开后点击左上角的 "),t("code",[s._v("create")]),s._v(" 创建一个连接，给该连接起个名字，如：本地 "),t("code",[s._v("localhost")]),s._v(" 服务器, 使用默认地址 "),t("code",[s._v("localhost")]),s._v("和 端口 "),t("code",[s._v("27017")]),s._v(" 即可，点击 "),t("code",[s._v("save")]),s._v(" 保存。")]),s._v(" "),t("li",[s._v("基本使用与"),t("code",[s._v("SQL")]),s._v(","),t("code",[s._v("MySQL")]),s._v("等数据库相差不大。")])]),s._v(" "),t("h2",{attrs:{id:"三-mongodb-权限机制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三-mongodb-权限机制"}},[s._v("#")]),s._v(" 三.MongoDB 权限机制")]),s._v(" "),t("blockquote",[t("p",[s._v("前言，在对应的目录下或者直接点击打开可视化工具即可登录数据库，这是绝对不允许的，所以需要使用权限机制，开启设置账号密码验证模式。")])]),s._v(" "),t("p",[t("strong",[s._v("操作步骤总结：")])]),s._v(" "),t("ul",[t("li",[s._v("添加超级管理员")]),s._v(" "),t("li",[s._v("退出卸载服务")]),s._v(" "),t("li",[s._v("重新安装需要输入账号密码的服务（注在原安装命令基础上加上--auth）")]),s._v(" "),t("li",[s._v("启动服务 -> 登录测试")])]),s._v(" "),t("p",[t("strong",[s._v("步骤一：添加超级管理员")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("use 数据库 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#（选择需要创建权限管理的数据）")]),s._v("\ndb.createUser"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"账号"')]),s._v(",     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#（输入账号）")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pwd"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"密码"')]),s._v(",      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#（输入密码）")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"role"')]),s._v(":"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        role:"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"角色"')]),s._v(",   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#角色种类")]),s._v("\n        db:"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"所属数据库"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#上面选择的数据库")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(",\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[t("strong",[s._v("角色")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 角色种类")]),s._v("\n超级用户角色：root\n数据库用户角色：read,readWrite\n数据库管理角色：dbAdmin,userAdmin\n集群管理角色：clusterAdmin,clusterManager,clusterMonitor,hostManager\n备份恢复角色：backup,restore\n所有数据库角色：readAnyDatabase.readWriteAnyDatabase,useAdminAnyDatabase\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 角色说明")]),s._v("\nroot：只在admin数据库中可用。超级账号，超级权限。\nread：允许用户读取指定数据库。\nreadWrite：允许用户读写指定数据库。\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[t("strong",[s._v("步骤二：退出卸载服务")])]),s._v(" "),t("p",[s._v("命令："),t("code",[s._v("mongod --remove")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在并目录下；DOS窗口以管理员身份运行")]),s._v("\nD:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("mongodb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("bin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("mongod --remove\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("strong",[s._v("步骤三：重新安装需要输入账号密码的服务")])]),s._v(" "),t("p",[s._v("命令："),t("code",[s._v("mongod --install --dbpath 数据存放目录 --logpath 日志存放文件 --auth")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在并目录下；DOS窗口以管理员身份运行;不能和数据库的日志存放文件名一样，改成mongodb2.log")]),s._v("\nD:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("mongodb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("bin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("mongod --install --dbpath D:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("mongodb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("data --logpath D:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("mongodb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("logs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("mongodb2.log --auth\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("strong",[s._v("步骤四：启动服务")])]),s._v(" "),t("p",[s._v("命令："),t("code",[s._v("net start mongodb")])]),s._v(" "),t("p",[t("strong",[s._v("登录测试方法：")]),s._v(" "),t("strong",[s._v("方法一：")]),t("code",[s._v("mongo 服务器IP地址：端口/数据库 -u 用户名 -p 密码")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("D:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("mongodb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("bin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("mongo "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.0")]),s._v(".0.1:27017/admin -u admin -p admin888\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[s._v("方法二：")]),s._v("\na-先登录\nb-选择数据库\nc-输入 db.auth（用户名，密码）")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#示例")]),s._v("\nD:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("mongodb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("bin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("mongo\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("use admin\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("db.auth"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'admin'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'admin888'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);