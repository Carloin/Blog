(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{370:function(e,s,t){e.exports=t.p+"assets/img/01.61dcb225.png"},492:function(e,s,t){"use strict";t.r(s);var a=t(27),r=Object(a.a)({},(function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("Visitors",{attrs:{mydate:"2021-11-11"}}),e._v(" "),a("h2",{attrs:{id:"阅读的开源项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#阅读的开源项目"}},[e._v("#")]),e._v(" 阅读的开源项目")]),e._v(" "),a("p",[e._v("github 上的，关于 react+redux 的开源项目，地址："),a("a",{attrs:{href:"https://github.com/bailicangdu/react-pxq",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/bailicangdu/react-pxq"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("技术栈：react + redux + webpack + react-router + ES6/7/8 + immutable")]),e._v(" "),a("h2",{attrs:{id:"第一步-阅读package-json文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第一步-阅读package-json文件"}},[e._v("#")]),e._v(" 第一步，阅读"),a("code",[e._v("package.json")]),e._v("文件")]),e._v(" "),a("p",[e._v("打开"),a("code",[e._v("package.json")]),e._v("文件，查看此项目所用的依赖包，这一步可大概了解辞项目所需要的技术，以及版本；根据"),a("code",[e._v("scripts")]),e._v("描述可知项目的启动指令。")]),e._v(" "),a("center",[a("img",{staticStyle:{"border-radius":"0.3125em","box-shadow":"0 2px 4px 0 rgba(34,36,38,.12),0 2px 10px 0 rgba(34,36,38,.08)",width:"25rem",height:"24rem"},attrs:{src:t(370)}}),e._v(" "),a("br"),e._v(" "),a("div",{staticStyle:{color:"#999","border-bottom":"1px solid #d9d9d9",display:"inline-block",padding:"2px"}},[e._v("package.json部分截图")])]),e._v(" "),a("h2",{attrs:{id:"第二步-看项目目录结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第二步-看项目目录结构"}},[e._v("#")]),e._v(" 第二步，看项目目录结构")]),e._v(" "),a("p",[e._v("通过项目目录结构，大致了解项目。对此项目主要目录解读如下：")]),e._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[e._v("└── src\n     ├── api "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//主要存放进行数据请求的文件")]),e._v("\n     │\n     ├── assets  "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//主要存放静态文件")]),e._v("\n     │\n     ├── components "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//主要存放公用的组件")]),e._v("\n     │\n     ├── envconfig "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//主要存放配置的文件，此项目主要是域名")]),e._v("\n     │\n     ├── pages "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//主要存放页面的文件")]),e._v("\n     │\n     ├── router "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//主要存放路由文件")]),e._v("\n     │\n     ├── store"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//主要是关于reducer和action文件")]),e._v("\n     │\n     ├── style "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//主要是样式文件")]),e._v("\n     │\n     ├── utils "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//主要是工具类文件")]),e._v("\n     │    ├── asyncComponent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("js "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//懒加载组件")]),e._v("\n     │    ├── mixin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("js\n     │    └── setRem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("js "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//用rem进行自适应的js文件")]),e._v("\n     │\n     ├──  index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("js "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//入口文件")]),e._v("\n     │\n     └──registerServiceWorker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("js "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//资源的缓存")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br"),a("span",{staticClass:"line-number"},[e._v("17")]),a("br"),a("span",{staticClass:"line-number"},[e._v("18")]),a("br"),a("span",{staticClass:"line-number"},[e._v("19")]),a("br"),a("span",{staticClass:"line-number"},[e._v("20")]),a("br"),a("span",{staticClass:"line-number"},[e._v("21")]),a("br"),a("span",{staticClass:"line-number"},[e._v("22")]),a("br"),a("span",{staticClass:"line-number"},[e._v("23")]),a("br"),a("span",{staticClass:"line-number"},[e._v("24")]),a("br"),a("span",{staticClass:"line-number"},[e._v("25")]),a("br")])]),a("h2",{attrs:{id:"第三步-看入口文件index-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第三步-看入口文件index-js"}},[e._v("#")]),e._v(" 第三步，看入口文件"),a("code",[e._v("index.js")])]),e._v(" "),a("p",[e._v("首先看导入了哪些文件，此时可去相应的文件查看这些文件的功能；在入口文件中导入的，是在全局环境中使用的。关于此项目入口文件的主要解读：")]),e._v(" "),a("ol",[a("li",[a("p",[a("code",[e._v("FastClick")]),e._v(":移动设备上的浏览器默认会在用户点击屏幕大约延迟 300 毫秒后才会触发点击事件，这是为了检查用户是否在做双击。为了能够立即响应用户的点击事件，才有了 FastClick。")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("react-hot-loader")]),e._v(": 就是使用 react 编写代码时，能让修改的部分自动刷新。但这和自动刷新网页是不同的，因为 hot-loader 并不会刷新网页，而仅仅是替换你修改的部分，也就是")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("react-redux")]),e._v(":引入"),a("code",[e._v("Provider")]),e._v(",与"),a("code",[e._v("store")]),e._v("数据建立连接")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("module.hot.accept")]),e._v("；实现热更新")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("registerServiceWorker.js")]),e._v(":为 react 项目注册了一个 "),a("code",[e._v("service worker")]),e._v("，用来做资源的缓存，这样你下次访问时，就可以更快的获取资源。而且因为资源被缓存，所以即使在离线的情况下也可以访问应用（此时使用的资源是之前缓存的资源）。但有一点要注意，"),a("code",[e._v("registerServiceWorker")]),e._v(" 注册的 "),a("code",[e._v("service worker")]),e._v(" 只在生产环境中生效"),a("code",[e._v("（process.env.NODE_ENV === 'production'）")]),e._v("，所以开发的时候，可以注释掉。当然了，在生产环境中，你也可以选择使用或者不适用这个功能。")])])]),e._v(" "),a("h2",{attrs:{id:"第四步-根据index-js文件-由上到下看对应的组件及相关文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第四步-根据index-js文件-由上到下看对应的组件及相关文件"}},[e._v("#")]),e._v(" 第四步，根据"),a("code",[e._v("index.js")]),e._v("文件，由上到下看对应的组件及相关文件")]),e._v(" "),a("p",[e._v("以下内容是根据自己的现有知识点，挑重点来胡编滥造😔")]),e._v(" "),a("h3",{attrs:{id:"壹-router-index-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#壹-router-index-js"}},[e._v("#")]),e._v(" 壹. "),a("code",[e._v("./router/index.js")])]),e._v(" "),a("p",[a("code",[e._v('import home from "@/pages/home/home";')]),e._v(":"),a("code",[e._v("home")]),e._v(" 组件不使用异步加载组件，因为是主组件，不需要异步")]),e._v(" "),a("h3",{attrs:{id:"贰-pages-record-record"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#贰-pages-record-record"}},[e._v("#")]),e._v(" 贰. "),a("code",[e._v("pages/record/record")])]),e._v(" "),a("ol",[a("li",[a("p",[e._v("记录列表，记录三个状态：已通过、待审核、未通过；进入这三个状态的页面，主要是通过路由"),a("code",[e._v("<NavLink>")]),e._v(";")])]),e._v(" "),a("li",[a("p",[e._v("这里有一个公共组件"),a("code",[e._v("RecordList")]),e._v(",根据路由的"),a("code",[e._v("type")]),e._v(",展示这三个状态的对应数据,使用"),a("code",[e._v("API.getRecord")]),e._v("发起不同"),a("code",[e._v("type")]),e._v("的请求")])]),e._v(" "),a("li",[a("p",[e._v("这个页面用了之前不怎么常用的生命周期")])])]),e._v(" "),a("p",[e._v("（1） "),a("code",[e._v("componentWillMount()")]),e._v(":一般用的比较少，它更多的是在服务端渲染时使用；它代表的过程是组件已经经历了"),a("code",[e._v("constructor()")]),e._v("初始化数据后，但是还未渲染 DOM 时。这里主要是用来获取 type，type==pass,去请求一次数据。")]),e._v(" "),a("p",[e._v("（2） "),a("code",[e._v("componentWillReceiveProps()")]),e._v(":用在更新过程，在接受父组件改变后的 "),a("code",[e._v("props")]),e._v(" 需要重新渲染组件时用到的比较多，接受一个参数 "),a("code",[e._v("nextProps")]),e._v("，通过对比 "),a("code",[e._v("nextProps")]),e._v(" 和 "),a("code",[e._v("this.props")]),e._v("，将 "),a("code",[e._v("nextProps")]),e._v(" 的 "),a("code",[e._v("state")]),e._v(" 为当前组件的 "),a("code",[e._v("state")]),e._v("，从而重新渲染组件。这里主要是获取"),a("code",[e._v("type")]),e._v(",判断类型是否重复,是否需要重新渲染组件")]),e._v(" "),a("p",[e._v("（3） "),a("code",[e._v("shouldComponentUpdate(nextProps,nextState)")]),e._v(":主要用于性能优化(部分更新)\n；唯一用于控制组件重新渲染的生命周期，由于在 react 中，setState 以后，state 发生变化，组件会进入重新渲染的流程，在这里 return false 可以阻止组件的更新；因为 react 父组件的重新渲染会导致其所有子组件的重新渲染，这个时候其实我们是不需要所有子组件都跟着重新渲染的，因此需要在子组件的该生命周期中做判断。这里使用"),a("code",[e._v("immutable")]),e._v("中"),a("code",[e._v("is")]),e._v("、"),a("code",[e._v("fromJS")]),e._v("进行判断。")]),e._v(" "),a("h3",{attrs:{id:"叁-pages-helpcenter-helpcenter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#叁-pages-helpcenter-helpcenter"}},[e._v("#")]),e._v(" 叁. "),a("code",[e._v("pages/helpcenter/helpcenter")])]),e._v(" "),a("p",[e._v("帮助中心，内容较为简单")]),e._v(" "),a("h3",{attrs:{id:"肆-pages-production-production"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#肆-pages-production-production"}},[e._v("#")]),e._v(" 肆. "),a("code",[e._v("pages/production/production")])]),e._v(" "),a("p",[e._v("产品列表，通过"),a("code",[e._v("connect")]),e._v("进行数据状态管理，通过第一个参数，获取"),a("code",[e._v("proData")]),e._v("的值，即最新的产品数据；第二个参数，是当前"),a("code",[e._v("production")]),e._v("组件中管理的数据发生了变化，需要更新数据，不能直接在组件中进行更新，需要根据不同的 action，更新不同的数据")]),e._v(" "),a("p",[e._v("（1）"),a("code",[e._v("togSelect")]),e._v("：处理是否选择产品，通过"),a("code",[e._v("this.props.togSelectPro(index);")]),e._v("将数据更新")]),e._v(" "),a("p",[e._v("（2）"),a("code",[e._v("handleEdit")]),e._v("：处理选择的产品数量，通过"),a("code",[e._v("this.props.editPro(index, currentNum);")]),e._v("将数据更新")]),e._v(" "),a("h3",{attrs:{id:"伍-pages-balance-balance"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#伍-pages-balance-balance"}},[e._v("#")]),e._v(" 伍. "),a("code",[e._v("pages/balance/balance")])]),e._v(" "),a("p",[e._v("提现页面，通过输入数据，提交提现的金额")]),e._v(" "),a("h2",{attrs:{id:"参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[e._v("#")]),e._v(" 参考")]),e._v(" "),a("p",[e._v("https://github.com/bailicangdu/react-pxq")])],1)}),[],!1,null,null,null);s.default=r.exports}}]);